{
    "format_version":"1.19.50",
    "minecraft:entity":{
        "description":{
            "identifier":"altivelis:dead_body",
            "is_spawnable":false,
            "is_summonable":true,
            "is_experimental":false,
            "runtime_identifier":"minecraft:ender_crystal"
        },
        "component_groups":{
            "visible":{
                "minecraft:nameable":{
                    "always_show":true
                }
            }
        },
        "components":{
            "minecraft:type_family":{
                "family":["dead"]
            },
            "minecraft:collision_box":{
                "width":0.6,
                "height":0.6
            },
            "minecraft:nameable":{},
            "minecraft:health":{
                "value":1,
                "max":1
            },
            "minecraft:movement":{
                "value":0
            },
            "minecraft:physics":{
                "has_collision":false,
                "has_gravity":false
            },
            "minecraft:pushable":{
                "is_pushable":false,
                "is_pushable_by_piston":false
            },
            "minecraft:damage_sensor":{
                "triggers":[
                    {
                        "deals_damage":false
                    }
                ]
            },
            "minecraft:interact":{
                "interactions":[
                    {
                        "on_interact":{
                            "filters":{
                                "all_of":[
                                    {
                                        "test":"has_equipment",
                                        "operator":"!=",
                                        "domain":"hand",
                                        "subject":"other",
                                        "value":"altivelis:ohuda"
                                    },
                                    {
                                        "test":"has_tag",
                                        "operator":"!=",
                                        "subject":"other",
                                        "value":"spec"
                                    }
                                ]
                            },
                            "event":"found"
                        }
                    },
                    {
                        "on_interact":{
                            "filters":{
                                "test":"has_equipment",
                                "domain":"hand",
                                "subject":"other",
                                "value":"altivelis:ohuda"
                            },
                            "event":"medium"
                        },
                        "use_item":true
                    }
                ]
            }
        },
        "events":{
            "minecraft:entity_spawned":{},
            "visible":{
                "add":{
                    "component_groups":["visible"]
                }
            },
            "wolf":{
                "run_command":{
                    "command":[
                        "tag @s add wolf"
                    ],
                    "target":"self"
                }
            },
            "human":{
                "run_command":{
                    "command":[
                        "tag @s add human"
                    ],
                    "target":"self"
                }
            },
            "found":{
                "sequence":[
                    {
                        "run_command":{
                            "command":[
                                "tag @s[tag=!found] add first",
                                "tag @s add found"
                            ],
                            "target":"self"
                        }
                    },
                    {
                        "run_command":{
                            "command":[
                                "execute if entity @e[type=altivelis:dead_body,tag=first] run tellraw @a {\"rawtext\":[{\"text\":\"§c\"},{\"selector\":\"@e[type=altivelis:dead_body,tag=first]\"},{\"text\":\"§3の遺体を§b\"},{\"selector\":\"@s\"},{\"text\":\"§3が発見した\"}]}",
                                "tag @e remove first"
                            ],
                            "target":"other"
                        }
                    }
                ]
            },
            "medium":{
                "sequence":[
                    {
                        "run_command":{
                            "command":[
                                "tag @s add medium"
                            ],
                            "target":"self"
                        }
                    },
                    {
                        "run_command":{
                            "command":[
                                "execute if entity @e[type=altivelis:dead_body,tag=medium,tag=wolf] run tellraw @s {\"rawtext\":[{\"text\":\"§3[霊媒]§b\"},{\"selector\":\"@e[tag=medium]\"},{\"text\":\"§3は§4人狼です\"}]}",
                                "execute if entity @e[type=altivelis:dead_body,tag=medium,tag=human] run tellraw @s {\"rawtext\":[{\"text\":\"§3[霊媒]§b\"},{\"selector\":\"@e[tag=medium]\"},{\"text\":\"§3は§a人狼ではありません\"}]}",
                                "tag @e remove medium"
                            ],
                            "target":"other"
                        }
                    }
                ]
            }
        }
    }
}